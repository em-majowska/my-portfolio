import"./es.regexp.exec-CA5vPLs-.js";import{t as e,i as t,g as a,a as n,s as o,b as c,c as i,d as s,e as r,f as l}from"./utils-DnReaGlV.js";let d;document.addEventListener("DOMContentLoaded",async()=>{d=await e(),t(a,d),n?o.style.display="none":c(),document.body.classList.remove("preload");const s=i();Array.from(document.querySelectorAll(".animated-elements")).forEach(e=>s.observe(e))}),window.addEventListener("resize",()=>{s(a),r(d),g()}),window.onscroll=function(){l()},window.onscroll=function(){l()};const m=2592e5;async function g(){try{const e=await caches.open("image-cache"),t=Array.from(document.querySelectorAll("img")).map(e=>e.src);await Promise.all(t.map(async t=>{const a=`cache-timestamp-${t}`,n=localStorage.getItem(a),o=Date.now();if(!n||o-n>m){const n=await fetch(t);await e.put(t,n),localStorage.setItem(a,o)}}))}catch(e){console.error("Error caching images:",e)}}"caches"in window?(g(),document.querySelectorAll("img[data-src]").forEach(async e=>{e.src=await async function(e,t){const a=await caches.open(`${t}-cache`),n=await a.match(e);if(n)return n;{const t=await fetch(e);return await a.put(e,t.clone()),t}}(e.dataset.src,"image")})):console.log("Cache API not supported in this browser.");const u=document.getElementById("digital-gallery-img"),y=document.getElementById("lightbox"),h=document.getElementById("lightbox-image"),f=document.getElementById("lightbox-title"),w=document.querySelectorAll(".digital-list__btn");let p={name:"",alt:""};function b(e){return`./assets/img/digital/${e}.jpg`}function E(){u.style.display="none",u.classList.remove("image-enter")}function v(e,t){h.src=b(e),h.alt=t,f.textContent=t,y.hidden=!1}function L(){y.hidden=!0}w.forEach(e=>{e.addEventListener("mouseenter",()=>{var t,a;t=e.dataset.art,a=e.getAttribute("aria-label"),u.src=b(t),u.alt=a,u.style.display="block",u.offsetWidth,u.classList.add("image-enter")}),e.addEventListener("mouseleave",E),e.addEventListener("click",()=>{p.name=e.dataset.art,p.alt=e.getAttribute("aria-label"),v(p.name,p.alt)})}),y.addEventListener("click",e=>{e.target!==y&&"lightbox-btn"!==e.target.id||L()});const A=document.querySelector(".lightbox-prev"),x=document.querySelector(".lightbox-next");function k(e){let t=Array.from(w).findIndex(e=>e.dataset.art===p.name)+e;t<0?t=w.length-1:t>=w.length&&(t=0);const a=w[t];p.name=a.dataset.art,p.alt=a.getAttribute("aria-label"),v(p.name,p.alt)}A.addEventListener("click",()=>{k(-1)}),x.addEventListener("click",()=>{k(1)}),document.addEventListener("keydown",e=>{"none"!==y.style.display&&("Escape"===e.key&&L(),"ArrowLeft"===e.key&&k(-1),"ArrowRight"===e.key&&k(1))});
