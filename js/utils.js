let isDesktop=()=>680<=window.innerWidth,menu=document.querySelector(".menu"),showMenu=e=>{e=e();menu.ariaExpanded=e?"undefined":"false",menu.style.display=e?"flex":"none"},sttBtn=document.getElementById("stt-btn"),touch=window.matchMedia("(pointer: coarse)").matches,spotlight=document.querySelector(".spotlight--outer"),dataCache=null;function initNavToggle(e){var t=document.getElementById("menu-btn"),n=Array.from(document.querySelectorAll(".menu__link"));let a=document.querySelector(".nav-overlay"),o=!1,i=()=>{o=!o,(menu.ariaExpanded=o)?(document.body.addEventListener("wheel",r,{passive:!1}),menu.style.display="block",a.addEventListener("click",i,{once:!0})):(document.body.removeEventListener("wheel",r,{passive:!1}),menu.addEventListener("animationend",()=>{o||(menu.style.display="none")},{once:!0}))};function r(e){e.preventDefault()}showMenu(e),t.addEventListener("click",i),n.forEach(e=>e.addEventListener("click",()=>{"undefined"!==menu.ariaExpanded&&i()}))}let animationObserver=null;function initAnimationObserver(){return animationObserver=animationObserver||new IntersectionObserver((e,n)=>{e.forEach(e=>{var t;(e.isIntersecting||e.target.id)&&(e.target.classList.add("animate"),e.target.classList.contains("contact")&&e.isIntersecting&&((t=document.createElement("script")).src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js",t.onload=()=>{bodymovin.loadAnimation({container:document.getElementById("cat-animation"),path:"./assets/cat-animation.json",renderer:"svg",loop:!0,autoplay:!0,name:"cat animation"})},document.body.appendChild(t)),n.unobserve(e.target))})},{threshold:.4})}function scrollToTop(){700<document.body.scrollTop||700<document.documentElement.scrollTop?sttBtn.classList.add("active"):sttBtn.classList.remove("active")}function initSpotlightCursor(){document.addEventListener("mousemove",function(e){var t=document.querySelector(".spotlight--outer");t.animate({top:e.pageY+"px",left:e.pageX+"px"},{duration:500,fill:"forwards"})})}async function fetchGalleryData(){if(!dataCache){var e=await fetch("./assets/gallery-data.json");if(!e.ok)throw new Error("HTTP error, status = "+e.status);e=(await e.json()).cards;dataCache=e}return dataCache}export{isDesktop,menu,showMenu,sttBtn,touch,spotlight,dataCache,initNavToggle,initAnimationObserver,scrollToTop,initSpotlightCursor,fetchGalleryData};